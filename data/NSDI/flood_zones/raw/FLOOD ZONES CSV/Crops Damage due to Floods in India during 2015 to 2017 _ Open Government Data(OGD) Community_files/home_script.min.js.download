var sampledataurlvalue,sampledataurlvalue2;function chkboxchangetext(){"outside_url"!=$(".url_outside #outside_url").val()||Dataviz.loggedin?$("#upload-url").attr("placeholder"," Paste your CSV URL"):($("#upload-url").attr("placeholder","Paste your CSV URL"),$("#dialog-mydata--force-login").dialog("open"))}function stringtotime(t){var e=new Date(1e3*t);return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}function timeformat(t){if(void 0!==t){var e=new Date(t.split(" ")[0]);return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}return null}function newdateformat(t){var e=new Date(t),a=e.getDate(),i="";return i+=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],i+=" "+a,i+=", "+e.getFullYear()}function loadallvisualization(t){return void 0===t&&(t=1),$.ajax({url:"https://community.data.gov.in/wp-admin/admin-ajax.php?action=getPostsByViz&token=17727725&category=visualization&vod=yes&count=6&page="+t,dataType:"json",cache:!1,beforeSend:function(t){$("#proceed-btn .container").html('<a href="javascript:void(0);">Loading...</a>')},success:function(e){hideOverlay();var a="";void 0!==e.count_total&&(a+=e.count_total),$("#allvizcount").html(a);var i="",s="";if(void 0!==e.posts){for(var o in e.posts){s+='<li class="data_viz_viewer_content">',s+='<a href="'+e.posts[o].link+'" title="'+e.posts[o].title+'" target="blank"><img src="'+e.posts[o].thumbnail+'" alt="thumbnail"/></a><br>',s+='<h4 title="'+e.posts[o].title+'">'+e.posts[o].title+"</h4>",s+="<p>"+e.posts[o].content+"</p><br>";var n=e.posts[o].link;s+='<div class="list-footer">',s+='<div class="social-icon"><a href="javascript:void(0)" onClick="shareFB(\''+n+'\')" title="Facebook (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" ><img src="images/facebook.png" alt="Facebook"></a><a href="javascript:void(0)" title="Twitter (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" onClick="shareTT(\''+e.posts[o].title+"','"+n+'\')" ><img src="images/tweet.png" alt="Twitter"></a></div>',s+='<span title="Date Created">'+e.posts[o].publishdate+"</span>",void 0!==e.posts[o].visualizationlink&&void 0!==e.posts[o].chart_type?s+='<a href="'+e.posts[o].visualizationlink+'" class="'+e.posts[o].chart_type+' home_chart_type" target="blank" title="View in Visualization Engine('+e.posts[o].chart_type+')">&nbsp;</a>':s+='<a href="'+e.posts[o].visualizationlink+'" target="blank" class="vizlink home_chart_type" title="View in Visualization Engine('+e.posts[o].chart_type+')">&nbsp;</a>';var r="";for(var l in e.posts[o].sector)r+=e.posts[o].sector[l]+", ";s+='<span class="sector" title="'+r.replace(/(^[,\s]+)|([,\s]+$)/g,"")+'">Sector: '+r.replace(/(^[,\s]+)|([,\s]+$)/g,"")+"</span>",void 0!==e.posts[o].ministry&&(s+='<span class="personal" title="'+e.posts[o].ministry+'">Ministry: '+e.posts[o].ministry+"</span>"),s+="</li>"}if(void 0!==e.posts){var c=0;for(var o in e.posts)if(i+="<li>",i+='<img src="'+e.posts[o].vizimage+'" alt="Slider image"/>',i+='<div class="slider-text">',i+="<p>Visualization of the day "+e.posts[o].date+"</p>",i+='<h3 title="'+e.posts[o].title+'">'+e.posts[o].title+"</h3>",i+="</div>",i+="</li>",++c>=4)break}$(".bxslider").html(""+i),$(".bxslider").bxSlider({mode:"fade",auto:"true"}),$(".searching-form ").show(),$(".default_search ").show(),$(".count_search").hide(),$("#searchallvizcount").hide()}$("#galler-home .container-left ul").append(s);var p="",d=e.count_total/6;t<d&&(p+='<a href="javascript:void(0);" onclick="return loadMoreAllVisualization('+(t+1)+')" title="Next">Load More</a>'),$("#proceed-btn .container").html(p)},error:function(){$("#proceed-btn .container").html('<a href="javascript:void(0);" onclick="return loadMoreAllVisualization(1)">Reload</a>')}}),!1}function loadMoreAllVisualization(t){return void 0===t&&(t=1),$.ajax({url:"https://community.data.gov.in/wp-admin/admin-ajax.php?action=getPostsByViz&token=17727725&category=visualization&vod=yes&count=6&page="+t,dataType:"json",cache:!1,beforeSend:function(t){$("#proceed-btn .container").html('<a href="javascript:void(0);">Loading...</a>')},success:function(e){hideOverlay();var a="";void 0!==e.count_total&&(a+=e.count_total),$("#allvizcount").html(a);var i="";if(void 0!==e.posts)for(var s in e.posts){i+='<li class="data_viz_viewer_content">',i+='<a href="'+e.posts[s].link+'" title="'+e.posts[s].title+'" target="blank"><img src="'+e.posts[s].thumbnail+'" alt="thumbnail"/></a><br>',i+='<h4 title="'+e.posts[s].title+'">'+e.posts[s].title+"</h4>",i+="<p>"+e.posts[s].content+"</p><br>";var o=e.posts[s].link;i+='<div class="list-footer">',i+='<div class="social-icon"><a href="javascript:void(0)" onClick="shareFB(\''+o+'\')" title="Facebook (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" ><img src="images/facebook.png" alt="Facebook"></a><a href="javascript:void(0)" title="Twitter" onClick="shareTT(\''+e.posts[s].title+"','"+o+'\')" ><img src="images/tweet.png" alt="Twitter (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)"></a></div>',i+='<span title="Date Created">'+e.posts[s].publishdate+"</span>",void 0!==e.posts[s].visualizationlink&&void 0!==e.posts[s].chart_type?i+='<a href="'+e.posts[s].visualizationlink+'" class="'+e.posts[s].chart_type+' home_chart_type" target="blank" title="View in Visualization Engine('+e.posts[s].chart_type+')">&nbsp;</a>':i+='<a href="'+e.posts[s].visualizationlink+'" target="blank" class="vizlink home_chart_type" title="View in Visualization Engine('+e.posts[s].chart_type+')">&nbsp;</a>';var n="";for(var r in e.posts[s].sector)n+=e.posts[s].sector[r]+", ";i+='<span class="sector" title="'+n.replace(/(^[,\s]+)|([,\s]+$)/g,"")+'">Sector: '+n.replace(/(^[,\s]+)|([,\s]+$)/g,"")+"</span>",void 0!==e.posts[s].ministry&&(i+='<span class="personal" title="'+e.posts[s].ministry+'">Ministry: '+e.posts[s].ministry+"</span>"),i+="</li>"}$("#galler-home .container-left ul").append(i);var l="",c=e.count_total/6;t<c&&(l+='<a href="javascript:void(0);" onclick="return loadMoreAllVisualization('+(t+1)+')" title="Next">Load More</a>'),$(".searching-form ").show(),$(".default_search ").show(),$(".count_search").hide(),$("#searchallvizcount").hide(),$("#proceed-btn .container").html(l)},error:function(){$("#proceed-btn .container").html('<a href="javascript:void(0);" onclick="return loadMoreAllVisualization(1)">Reload</a>')}}),!1}function searchallvizloadmore(t){void 0===t&&(t=1);var e=$("#allviz_title_search").val();return $.ajax({url:"https://community.data.gov.in/wp-admin/admin-ajax.php?action=getPostsByViz&token=17727725&category=visualization&vod=yes&search="+e+"&count=6&page="+t,dataType:"json",cache:!1,beforeSend:function(t){showOverlay();$("#proceed-btn .container").html('<a href="javascript:void(0);">Loading...</a>')},success:function(e){hideOverlay();var a="",i=e.count_total;if(i>0){if($(".searching-form").show(),$("#searchallvizcount").show(),$("#searchallvizcount").html(i),$(".default_search").hide(),$(".count_search").show(),void 0!==e.posts)for(var s in e.posts){a+='<li class="data_viz_viewer_content">',a+='<a href="'+e.posts[s].link+'" title="'+e.posts[s].title+'" target="blank"><img src="'+e.posts[s].thumbnail+'" alt="thumbnail"/></a><br>',a+='<h4 title="'+e.posts[s].title+'">'+e.posts[s].title+"</h4>",a+="<p>"+e.posts[s].content+"</p><br>";var o=e.posts[s].link;a+='<div class="list-footer">',a+='<div class="social-icon"><a href="javascript:void(0)" onClick="shareFB(\''+o+'\')" title="Facebook (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" ><img src="images/facebook.png" alt="Facebook"></a><a href="javascript:void(0)" title="Twitter (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" onClick="shareTT(\''+e.posts[s].title+"','"+o+'\')" ><img src="images/tweet.png" alt="Twitter"></a></div>',a+='<span title="Date Created">'+e.posts[s].publishdate+"</span>",void 0!==e.posts[s].visualizationlink&&void 0!==e.posts[s].chart_type?a+='<a href="'+e.posts[s].visualizationlink+'" class="'+e.posts[s].chart_type+' home_chart_type" target="blank" title="View in Visualization Engine('+e.posts[s].chart_type+')">&nbsp;</a>':a+='<a href="'+e.posts[s].visualizationlink+'" target="blank" class="vizlink home_chart_type" title="View in Visualization Engine('+e.posts[s].chart_type+')">&nbsp;</a>';var n="";for(var r in e.posts[s].sector)n+=e.posts[s].sector[r]+", ";a+='<span class="sector" title="'+n.replace(/(^[,\s]+)|([,\s]+$)/g,"")+'">Sector: '+n.replace(/(^[,\s]+)|([,\s]+$)/g,"")+"</span>",void 0!==e.posts[s].ministry&&(a+='<span class="personal" title="'+e.posts[s].ministry+'">Ministry: '+e.posts[s].ministry+"</span>"),a+="</li>"}}else a='<div class="no-files" ><p>No Visualization found.Please try with different keywords</p></div>';$(".container-left ul").append(a);var l="",c=e.count_total/6;t<c&&(l+='<a href="javascript:void(0);" onclick="return searchallvizloadmore('+(t+1)+')" title="Next">Load More</a>'),$("#proceed-btn .container").html(l)},error:function(){$("#proceed-btn .container").html('<a href="javascript:void(0);" onclick="return searchallvizloadmore(1)">Reload</a>')}}),!1}function searchallvisualization(t){void 0===t&&(t=1);var e=$("#allviz_title_search").val();return""==e?alert("Please Enter Some Keywords"):$.ajax({url:"https://community.data.gov.in/wp-admin/admin-ajax.php?action=getPostsByViz&token=17727725&category=visualization&vod=yes&search="+e+"&count=6&page="+t,dataType:"json",cache:!1,beforeSend:function(t){showOverlay();$("#proceed-btn .container").html('<a href="javascript:void(0);">Loading...</a>')},success:function(e){hideOverlay();var a="",i=e.count_total;if(i>0){if($(".searching-form").show(),$("#searchallvizcount").show(),$("#searchallvizcount").html(i),$(".default_search").hide(),$(".count_search").show(),void 0!==e.posts)for(var s in e.posts){a+='<li class="data_viz_viewer_content">',a+='<a href="'+e.posts[s].link+'" title="'+e.posts[s].title+'" target="blank"><img src="'+e.posts[s].thumbnail+'" alt="thumbnail"/></a><br>',a+='<h4 title="'+e.posts[s].title+'">'+e.posts[s].title+"</h4>",a+="<p>"+e.posts[s].content+"</p><br>";var o=e.posts[s].link;a+='<div class="list-footer">',a+='<div class="social-icon"><a href="javascript:void(0)" onClick="shareFB(\''+o+'\')" title="Facebook (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" ><img src="images/facebook.png" alt="Facebook"></a><a href="javascript:void(0)" title="Twitter (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" onClick="shareTT(\''+e.posts[s].title+"','"+o+'\')" ><img src="images/tweet.png" alt="Twitter"></a></div>',a+='<span title="Date Created">'+e.posts[s].publishdate+"</span>",void 0!==e.posts[s].visualizationlink&&void 0!==e.posts[s].chart_type?a+='<a href="'+e.posts[s].visualizationlink+'" class="'+e.posts[s].chart_type+' home_chart_type" target="blank" title="View in Visualization Engine('+e.posts[s].chart_type+')">&nbsp;</a>':a+='<a href="'+e.posts[s].visualizationlink+'" target="blank" class="vizlink home_chart_type" title="View in Visualization Engine('+e.posts[s].chart_type+')">&nbsp;</a>';var n="";for(var r in e.posts[s].sector)n+=e.posts[s].sector[r]+", ";a+='<span class="sector" title="'+n.replace(/(^[,\s]+)|([,\s]+$)/g,"")+'">Sector: '+n.replace(/(^[,\s]+)|([,\s]+$)/g,"")+"</span>",void 0!==e.posts[s].ministry&&(a+='<span class="personal" title="'+e.posts[s].ministry+'">Ministry: '+e.posts[s].ministry+"</span>"),a+="</li>"}}else $(".searching-form").hide(),a='<div class="no-files" ><p>No Visualization found.Please try with different keywords</p></div>';$(".container-left ul").html(a);var l="",c=e.count_total/6;t<c&&(l+='<a href="javascript:void(0);" onclick="return searchallvizloadmore('+(t+1)+')" title="Next">Load More</a>'),$("#proceed-btn .container").html(l)},error:function(){$("#proceed-btn .container").html('<a href="javascript:void(0);" onclick="return searchallvisualization(1)">Reload</a>')}}),!1}function resetallvisualization(t){return void 0===t&&(t=1),$.ajax({url:"https://community.data.gov.in/wp-admin/admin-ajax.php?action=getPostsByViz&token=17727725&category=visualization&vod=yes&count=6&page="+t,dataType:"json",cache:!1,beforeSend:function(t){showOverlay();$("#proceed-btn .container").html('<a href="javascript:void(0);">Loading...</a>')},success:function(e){hideOverlay();var a="";if(void 0!==e.posts)for(var i in e.posts){a+='<li class="data_viz_viewer_content">',a+='<a href="'+e.posts[i].link+'" title="'+e.posts[i].title+'" target="blank"><img src="'+e.posts[i].thumbnail+'" alt="thumbnail"/></a><br>',a+='<h4 title="'+e.posts[i].title+'">'+e.posts[i].title+"</h4>",a+="<p>"+e.posts[i].content+"</p><br>";var s=e.posts[i].link;a+='<div class="list-footer">',a+='<div class="social-icon"><a href="javascript:void(0)" onClick="shareFB(\''+s+'\')" title="Facebook (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" ><img src="images/facebook.png" alt="Facebook"></a><a href="javascript:void(0)" title="Twitter (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" onClick="shareTT(\''+e.posts[i].title+"','"+s+'\')" ><img src="images/tweet.png" alt="Twitter"></a></div>',a+='<span title="Date Created">'+e.posts[i].publishdate+"</span>",void 0!==e.posts[i].visualizationlink&&void 0!==e.posts[i].chart_type?a+='<a href="'+e.posts[i].visualizationlink+'" class="'+e.posts[i].chart_type+' home_chart_type" target="blank" title="View in Visualization Engine('+e.posts[i].chart_type+')">&nbsp;</a>':a+='<a href="'+e.posts[i].visualizationlink+'" target="blank" class="vizlink home_chart_type" title="View in Visualization Engine('+e.posts[i].chart_type+')">&nbsp;</a>';var o="";for(var n in e.posts[i].sector)o+=e.posts[i].sector[n]+", ";a+='<span class="sector" title="'+o.replace(/(^[,\s]+)|([,\s]+$)/g,"")+'">Sector: '+o.replace(/(^[,\s]+)|([,\s]+$)/g,"")+"</span>",void 0!==e.posts[i].ministry&&(a+='<span class="personal" title="'+e.posts[i].ministry+'">Ministry: '+e.posts[i].ministry+"</span>"),a+="</li>"}$("#galler-home .container-left ul").html(a);var r="",l=e.count_total/6;t<l&&(r+='<a href="javascript:void(0);" onclick="return loadMoreAllVisualization('+(t+1)+')" title="Next">Load More</a>'),$(".searching-form ").show(),$(".default_search ").show(),$(".count_search").hide(),$("#searchallvizcount").hide(),$("#proceed-btn .container").html(r)},error:function(){$("#proceed-btn .container").html('<a href="javascript:void(0);" onclick="return loadallvisualization(1)">Reload</a>')}}),!1}function myview(){get_token_with_callback((function(t){$.ajax({url:vizapiurl+"/api/v1/user/uid?provider="+t.provider,type:"GET",cache:!1,beforeSend:function(e){e.setRequestHeader("Authorization","OAuth2 "+t.token)},success:function(e){Dataviz.userid=e.uid,$.ajax({url:vizapiurl+"/api/v1/views/user/"+e.uid,type:"GET",cache:!1,beforeSend:function(e){e.setRequestHeader("Authorization","OAuth2 "+t.token)},success:function(t){var e="<ul>";for(var a in t)void 0!==t[a].title&&(e+='<li><a href ="'+vizurl+"?inst="+t[a].resource_id+"&vid="+t[a].id+'">'+t[a].title+"</a>Created Date"+t[a].date_created+'</li><div class="grid-bottom-right clearfix"><div class="facebook"><a title="Facebook (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" href="http://www.facebook.com/sharer.php?u='+vizurl+"?inst="+t[a].resource_id+'" ><img src="images/facebook.png" alt="Facebook"></a></div><div class="twitter1"><a title="twitter (You are being redirected to an external website. Please note that Open Data Portal is not responsible for external websites content & privacy policies.)" href="http://twitter.com/share?text=Visualization&amp;url='+vizurl+"?inst="+t[a].resource_id+'&amp;hashtags=DataPortalIndia" ><img src="images/tweet.png" alt="Twitter"></a></div></div>');e+="</ul>",$("#my-view-list p ").html(e)}})},error:function(){hideOverlay()}})}))}function instancetitle(){if("yxunyiebcjb5o9x3ke65svi17slbp5g5"!=Dataviz.setting.instanceID&&"spu2j6i8pkdykb2ewfflerjfjnp2gyaj"!=Dataviz.setting.instanceID&&"vs17a72ll20a48i57culugq2gbkr8rcw"!=Dataviz.setting.instanceID&&"7z4zh07la37isztd88roo56knfxjldu3"!=Dataviz.setting.instanceID&&"cxdl5kt2zkg5s6a0wrm3atpmq0w539bh"!=Dataviz.setting.instanceID||wizard(),Dataviz.setting.instanceID&&void 0!==Dataviz.setting.instanceID.indexOf)var t=Dataviz.setting.instanceID.indexOf("iunrslt-");if(null!=t&&t>-1)setTimeout((function(){var t="";t+='<span class="inst-title" title="Title">Instance Title : '+Dataviz.titleouterurl+'</br><span class="current_status"> </span></span>',$("#instance-title").html(t)}),5e3);else{const t=new URLSearchParams(location.search);let e=null;t.has("inst")&&(e=t.get("inst")),Dataviz.setting.instanceID=e,$.ajax({url:dataapiurl+"/resource/"+e+"?format=json&api-key=579b464db66ec23bdd000001cdc3b564546246a772a26393094f5645",cache:!1,success:function(t){var e="",a=t.source;Dataviz.title=t.title,void 0!==Dataviz.title?Dataviz.title=t.title:Dataviz.title=GetTitle(),"User"!=Dataviz.org_type?e+='<span class="inst-title" title="Title">Instance Title : '+Dataviz.title+'<a href ="https://'+a+"/node/"+Dataviz.setting.instanceID+'" target="_blank" rel = "noopener noreferrer"> <img src="css/theme1/images/dataset-icon.png" title="Data Set"></a></br><span class="current_status"> </span></span>':e+='<span class="inst-title" title="Title">Instance Title : '+Dataviz.title+'</br><span class="current_status"> </span></span>',$("#instance-title").html(e)}})}}function deleteinstance(t){get_token_with_callback((function(e){$.ajax({url:vizapiurl+"/api/v1/instance/"+t,type:"DELETE",cache:!1,dataType:"json",beforeSend:function(t){t.setRequestHeader("Authorization","OAuth2 "+e.token),showOverlay()},success:function(t){window.location.href=vizurl+"?page=my-data"},error:function(){hideOverlay()}})}))}function deleteconfirm(t){return $("#dialog-delete-confirm").dialog({autoOpen:!1,closeText:"",modal:!0,width:600,height:250,maxWidth:710,minWidth:300,draggable:!0,resizable:!1,position:{my:"center",at:"center",of:window},show:{effect:"fade",duration:300},hide:{effect:"fade",duration:300},buttons:{"Delete the item":function(){deleteinstance(t),$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}}),$("#dialog-delete-confirm").dialog("open"),!1}function myinstance(){get_token_with_callback((function(t){$.ajax({url:vizapiurl+"/api/v1/user/uid?provider="+t.provider,cache:!1,beforeSend:function(e){e.setRequestHeader("Authorization","OAuth2 "+t.token)},success:function(e){Dataviz.userid=e.uid,$.ajax({url:dataapiurl+"/lists?filters[user_id]="+e.uid+"&format=json&sort[timestamp]=desc&limit=all",cache:!1,success:function(e){var a="<ul>";for(var i in e.records)void 0!==e.records[i].title&&($.ajax({url:vizapiurl+"/api/v1/views/count/"+e.records[i].index_name,cache:!1,beforeSend:function(e){e.setRequestHeader("Authorization","OAuth2 "+t.token)},success:function(t){$("#resource_"+t.resource_id+" .resource_count").html(""+t.count)}}),a+='<li id="resource_'+e.records[i].index_name+'"><p><a title="Title" href ="'+vizurl+"?inst="+e.records[i].index_name+'">'+e.records[i].title+'</a></p><span title="Date Created">'+stringtotime(e.records[i].created)+'</span><span class="resource_count" title= "Number of Visualizations"></span><a id="opendataviz-delete-instance" title="Delete Instance" onclick="deleteconfirm(\''+e.records[i].index_name+"')\">Delete</a></li>");a+="</ul>",$("#mydata-instance-list").html(a),$("#my-instance-list p").html(a)}})},error:function(){hideOverlay()}})}))}function resetmydata(){$("#upload-data-text").attr("readOnly",!1).val(""),$("#cp-mydata-title").attr("readOnly",!1).val(""),$("#tc-mydata").prop("disabled",!1).prop("checked",!1),sampledataurlvalue=""}function resetmyurl(){$("#upload-url").attr("readOnly",!1).val(""),$("#cp-url-title").attr("readOnly",!1).val(""),$("#tc-mydata2").prop("disabled",!1).prop("checked",!1),sampledataurlvalue2=""}function embedurl(){if(null!=Dataviz.setting.viewID&&void 0!==Dataviz.setting.viewID)var t=vizurl+"/?inst="+Dataviz.setting.instanceID+"&vid="+Dataviz.setting.viewID+"&embed=1";else t=vizurl+"/?inst="+Dataviz.setting.instanceID+"&embed=1";return $("#dialog-embed-url").html(t),$("#dialog-embed-url").dialog({autoOpen:!1,closeText:"",modal:!0,width:600,height:250,maxWidth:710,minWidth:300,draggable:!0,resizable:!1,position:{my:"center",at:"center",of:window},show:{effect:"fade",duration:300},hide:{effect:"fade",duration:300},buttons:{Close:function(){$(this).dialog("close")}}}),$("#dialog-embed-url").dialog("open"),!1}function wizard(){return $("#group-function-function-field").bind("mouseenter mouseleave",(function(){var t=this.selectionStart,e=/<(.|\n)*?>/g,a=$(this).val();e.test(a)&&($(this).val(a.replace(e,"")),t--),this.setSelectionRange(t,t)})),$("#chart-series-form-key").bind("input",(function(){var t=this.selectionStart,e=/<(.|\n)*?>/g,a=$(this).val();e.test(a)&&($(this).val(a.replace(e,"")),t--),this.setSelectionRange(t,t)})),$("#chart-comment").bind("input",(function(){var t=this.selectionStart,e=/<(.|\n)*?>/g,a=$(this).val();e.test(a)&&($(this).val(a.replace(e,"")),t--),this.setSelectionRange(t,t)})),$(".section-editseries").hide(),$(".section-addseries").show(),"map"==Dataviz.setting.chart[0].type||"statemap"==Dataviz.setting.chart[0].type||"latlongmap"==Dataviz.setting.chart[0].type?($(".mapset").css("display","block"),$(".chartset").css("display","none")):($(".mapset").css("display","none"),$(".chartset").css("display","block")),"yxunyiebcjb5o9x3ke65svi17slbp5g5"==Dataviz.setting.instanceID?$("#chartType").val("pie"):"spu2j6i8pkdykb2ewfflerjfjnp2gyaj"==Dataviz.setting.instanceID?$("#chartType").val("bar"):$("#chartType").val(Dataviz.setting.chart[0].type),$("#dialog-wizards-url").dialog({autoOpen:!1,closeText:"",modal:!0,width:750,height:600,maxWidth:910,minWidth:300,draggable:!0,resizable:!1,position:{my:"center",at:"center",of:window},show:{effect:"fade",duration:300},hide:{effect:"fade",duration:300}}),$("#dialog-wizards-url").dialog("open"),!1}function feedbackUrl(){window.location.href,Dataviz.title}$(document).ready((function(){$("#wizard").steps({headerTag:"h2",bodyTag:"section",transitionEffect:"slideLeft"}),$(".zoom-img").attr("href",window.location.href.split("&zoom=1")[0]),$(".goto_viz").attr("href",window.location.href.split("&embed=1&zoom=1")[0]),$(".tab_content").hide(),$("ul.tabs li:first").addClass("active").show(),$("ul.tabs li:first").addClass("active").show(),$(".tab_content:first").show(),$("ul.tabs li").click((function(){$("ul.tabs li").removeClass("active"),$(this).addClass("active"),$(".tab_content").hide();var t=$(this).find("a").attr("href");return $(t).fadeIn(),!1})),$("#instant-view input, #instant-view textarea").placeholder();var t=$.url(window.location),e=t.param("inst"),a=(t.param("vid"),t.param("page"),t.param("embed"));void 0!==a&&1==a&&$("body").css("padding-top","0"),void 0===e&&loadallvisualization(1),instancetitle(),$(".count_search").hide(),history.pushState(null,null,document.URL),window.addEventListener("popstate",(function(){history.pushState(null,null,document.URL)}))}));